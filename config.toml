# Obsidian Host Configuration

[server]
# The host address to bind to (default: 0.0.0.0)
# Use "0.0.0.0" to accept connections from all interfaces (required for Tailscale Funnel)
# Use "127.0.0.1" to only accept local connections
host = "0.0.0.0"

# The port to listen on (default: 8080)
port = 8080

[database]
# Path to the SQLite database file (default: ./obsidian-host.db)
path = "./obsidian-host.db"

[vault]
# List of patterns to exclude from search indexing and file watcher
# Default includes: .git, .obsidian, .trash, node_modules
index_exclusions = [".git", ".obsidian", ".trash", "node_modules", "target"]

[auth]
# Enable authentication (default: false)
# When false, all requests are allowed without login.
enabled = false

# Google OAuth 2.0 / OIDC credentials
# Create these at https://console.cloud.google.com/apis/credentials
# Set the authorized redirect URI to: {external_url}/api/auth/callback
# google_client_id = "your-client-id.apps.googleusercontent.com"
# google_client_secret = "your-client-secret"

# The externally-reachable URL of this application (used for OAuth redirect URI)
external_url = "http://localhost:8080"

# Session duration in hours (default: 168 = 7 days)
session_duration_hours = 168

# Secret key for signing session tokens (should be random, >= 32 chars)
# If not set, a random key is generated on startup (sessions won't survive restarts)
# session_secret = "change-me-to-a-random-string-at-least-32-chars"

# Force Secure flag on cookies even when the app receives HTTP traffic.
# Enable this when behind a TLS-terminating proxy (e.g., Tailscale Funnel, nginx).
# force_secure_cookies = true
